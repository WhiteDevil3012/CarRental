<div
  class="container shadow-4"
  style="background-color: white;margin-bottom:100px;min-width:100%;"
>
  <div class="d-flex" style="margin-top: 50px;justify-content: center;"><h3
      style="margin-top: 30px;"
    >Add new Admin</h3></div>
  <form method="POST" action="/createA"
          class="d-flex flex-column me-auto ms-auto"
          style="width:60%;min-width:300px;margin-top:50px;"
        >
        <!--each method for each errors-->
        {{#each errors}}
      <div class="alert alert-danger">
        {{text}}
      </div>
        {{/each}}
        {{#each success}}<div class="alert alert-success">
        {{text}}
      </div>
        {{/each}}
          <!-- 2 column grid layout with text inputs for the first and last names -->
          <div class="p-1 d-flex flex-wrap">
            
              <div class="pt-1 form-outline flex-fill">
                <input type="text" name="firstname" value="{{firstname}}" id="form6Example1" class="form-control" />
                <label class="form-label" for="form6Example1">First name</label>
              </div>
            
              <div class="pt-1 form-outline flex-fill">
                <input type="text" name="lastname" id="form6Example2" value="{{lastname}}" class="form-control" />
                <label class="form-label" for="form6Example2">Last name</label>
              </div>
          </div>
          
          <!-- Email input -->
          <div class="p-1 form-outline mb-4">
            <input type="email" id="form6Example5" name="email" class="form-control" value="{{email}}"/>
            <label class="form-label" for="form6Example5">Email</label>
          </div>

          <!-- Password input -->
          <div class="p-1 form-outline">
            <input
              type="password"
              id="form1Example2"
              name="password"
              class="form-control form-control"
            />
            <label class="form-label" for="form1Example2">Password</label>
          </div>

          <!-- Password input -->
          <div class="p-1 form-outline">
            <input
              type="password"
              id="form1Example2"
              name="password2"
              class="form-control form-control"
            />
            <label class="form-label" for="form1Example2">Re-enter Password</label>
          </div>

          <!-- Text input -->
          <div class="p-1 form-outline mb-4">
            <input type="text" id="form6Example4" value="{{location}}" name="location" class="form-control" />
            <label class="form-label" for="form6Example4">City</label>
          </div>

          <!-- Number input -->
          <div class="p-1 form-outline mb-4">
            <input type="tel" id="form6Example6" name="phone" value="{{phone}}" class="form-control" />
            <label class="form-label" for="form6Example6">Phone</label>
          </div>

          <label
            class="form-label"
            for="customFile"
            style="margin-left:10px"
          >Profile Picture</label>
          <input
            type="file"
            class="form-control"
            id="customFile"
            name="image"
            value="{{image}}"
            style="width:50%;margin-left:10px;margin-right:10px;min-width:210px;"
          />

          <!-- Submit button -->
          <button
            type="submit"
            class="p-1 btn btn-primary btn-block mb-4 ms-auto me-auto"
            style="width:80px;margin-top:40px;"
          ><i class="fas fa-arrow-right"></i></button>
        </form>
</div>
<script type="text/javascript">
//Jquery
$(document).ready(function(){
    
    $('#customFile').on('change',function(){
        var uploadip = $('#customFile');
        if(uploadip.val() != ''){
            var formData = new FormData();
            formData.append('image',uploadip[0].files[0]);

            $.ajax({
                url: '/uploadImage',
                type: 'POST',
                data : formData,
                processData : false,
                contentType: false,
                success : function(){
                    uploadip.val('');
                }
            })
        }
    })
})
window.onload = function(){
    if(window.jQuery) {
        console.log('Jquery has been initialised');
    }
    else
        alert('Jquery not loaded. Please reload the page');
}
</script>
